<!doctype html>
<html>

<head>
    <title>why-obsi</title>
    <link rel="stylesheet" href="https://snlx.net/new.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
</head>

<body>
    <nav>
        <h2>Linked Notes</h2>
        <ul>
            <li class="back"><a href="/mk-bridge">mk-bridge</a></li>
            <li class="back"><a href="/mk-api">mk-api</a></li>
            <li class="back"><a href="/index">index</a></li>
            <li class="current"><a href="/why-obsi">why-obsi</a></li>
            <li class="forward"><a href="/typst">typst</a></li>
            <li class="forward"><a href="/mk-bridge">mk-bridge</a></li>
            <li class="forward"><a href="/drop-eleventy">drop-eleventy</a></li>
        </ul><a class="source" href="https://github.com/snlxnet/snlx.net"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github">
                <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
                <path d="M9 18c-4.51 2-5-2-7-2"></path>
            </svg>Source&nbsp;code</a>
    </nav>
    <main>
        <div class="metadata">
            <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-feather-icon lucide-feather">
                    <path d="M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z"></path>
                    <path d="M16 8 2 22"></path>
                    <path d="M17.5 15H9"></path>
                </svg>created 33d ago</div>
            <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw-icon lucide-refresh-cw">
                    <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                    <path d="M21 3v5h-5"></path>
                    <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                    <path d="M8 16H3v5"></path>
                </svg>updated 0.00 hrs ago</div>
            <div class="tag">#resource</div>
        </div>
        <pre class="frontmatter language-yaml" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> resource
<span class="token key atrule">created</span><span class="token punctuation">:</span> <span class="token datetime number">2026-01-04</span>
<span class="token key atrule">updated</span><span class="token punctuation">:</span> <span class="token datetime number">2026-02-06T23:43:40+03:00</span>
<span class="token key atrule">cssclasses</span><span class="token punctuation">:</span> grdn
<span class="token key atrule">post</span><span class="token punctuation">:</span> <span class="token string">"[[snlx.net]]"</span>
<span class="token key atrule">layout</span><span class="token punctuation">:</span> base.njk
<span class="token key atrule">state</span><span class="token punctuation">:</span> wip</code></pre>
        <p dir="auto"><span alt="settling-on-obsidian.svg" src="settling-on-obsidian.svg" class="internal-embed media-embed image-embed is-loaded"><img alt="settling-on-obsidian.svg" src="/settling-on-obsidian.svg"></span></p>
        <p dir="auto">Let's start by talking about why I didn't want to use it</p>
        <h2 data-heading="Why not markdown" dir="auto">Why not markdown</h2>
        <p dir="auto">I use the system for the uni, so I need</p>
        <ol>
            <li dir="auto">a lot of math blocks</li>
            <li dir="auto">a few diagrams</li>
            <li dir="auto">very specific document formatting (they want me to do it in MS Word)</li>
        </ol>
        <p dir="auto">That's why in September 2025 I started using <a data-href="typst" href="/typst" class="internal-link">typst</a>.</p>
        <h2 data-heading="Okay then, why not typst" dir="auto">Okay then, why not typst</h2>
        <p dir="auto">Well typst is a typesetting tool, not a note-taking system and not a tool for building digital gardens. It has no links between files and doesn't run on mobile (outside of the webapp or termux).</p>
        <p dir="auto">So what did happen this semester (2025-09-01..2026-01-01)?</p>
        <p dir="auto">What happened is now I have an obsidian vault littered with typst documents which are not linked. They are nice for formatting, they generate pretty PDFs (which, funnily enough, are linked into some markdown notes), but I can't use any links <em>within</em> them or link <em>to</em> them.</p>
        <h2 data-heading="What about the integrations" dir="auto">What about the integrations</h2>
        <p dir="auto">Initially I tried using the <code>typst renderer</code> plugin, but I didn't like it for</p>
        <ol>
            <li dir="auto">how it looked with my theme (catppuccin, like on this site)</li>
            <li dir="auto">it being unable to open <code>.typ</code> files directly</li>
            <li dir="auto">it being unable to export PDFs</li>
        </ol>
        <p dir="auto">So I decided that the real solution is to make an Obsidian clone around typst files instead of markdown files. That, uhm... Didn't go very far... I've had a lot of other things to do, so the project was never started.</p>
        <h2 data-heading="Why do anything now?" dir="auto">Why do anything now?</h2>
        <p dir="auto">In the middle of December I've realized that the primary reason I don't put anything new up on the site is that it takes more effort than pressing a shortcut and I don't have the time. Like, I'm writing notes locally anyway, I just never push them.</p>
        <p dir="auto">Another thing is I don't like the fact I can't link to parts of my university notes because each notebook is a single <code>.typ</code> file. Now I have a bit of free time, NOW is the time to fix it!</p>
        <h2 data-heading="The compromise" dir="auto">The compromise</h2>
        <ol>
            <li dir="auto">I don't reinvent the wheel</li>
            <li dir="auto">I use obsidian because it has a plugin system and a mobile app</li>
            <li dir="auto">I write notes that require typst using
                <ol>
                    <li dir="auto"><a class="external-link" href="https://github.com/azyarashi/obsidian-typst-mate">https://github.com/azyarashi/obsidian-typst-mate</a></li>
                    <li dir="auto"><a class="external-link" href="https://typst.app/universe/package/eqalc">https://typst.app/universe/package/eqalc</a></li>
                    <li dir="auto"><a class="external-link" href="https://typst.app/universe/package/cetz">https://typst.app/universe/package/cetz</a></li>
                </ol>
            </li>
            <li dir="auto">Then link to them, they are regular notes after all</li>
            <li dir="auto">And build them into finished PDFs with
                <ol>
                    <li dir="auto">the regular typst compiler</li>
                    <li dir="auto"><a class="external-link" href="https://typst.app/universe/package/cmarker">https://typst.app/universe/package/cmarker</a></li>
                </ol>
            </li>
            <li dir="auto">The publishing is handleded by a plugin, see <a data-href="mk-bridge" href="/mk-bridge" class="internal-link">mk-bridge</a></li>
        </ol>
        <p dir="auto">If I ever actually make the typst-based obsidian clone, migrating to that should be relatively easy.</p>
        <h2 data-heading="Simple Adapter" dir="auto">Simple Adapter</h2>
        <p dir="auto">I've reconfigured the typst mate plugin to only interpret the typst+show code blocks, not the regular typst ones. Now I'm using <a data-tooltip-position="top" aria-label="https://gist.github.com/snlxnet/ff611be55809abc4a852f4fbcd3d04e1" class="external-link" href="https://gist.github.com/snlxnet/ff611be55809abc4a852f4fbcd3d04e1">this simple script</a> to read markdown with typst used for later formatting. It evaluates the typst+show and math blocks and extracts the frontmatter (using the cmarker plugin).</p>
        <p dir="auto">The only difference between the script I actually use and the gist is that my links look like this:</p>
        <pre class="language-typst"><code class="language-typst is-loaded">#show link: set text(fill: blue)
#show link: underline
#show regex("\\[\\[([\S ]+)\]\]"): (match) =&gt; {
  let file = match.text.slice(2, -2)
  let url = "https://snlx.net/" + file
  link(url)[#file]
}
</code></pre>
        <h2 data-heading="Asciinema Updates: work in progress" dir="auto">Asciinema Updates: work in progress</h2>
        <p dir="auto">This works in Obsidian, but not on the site. What works on the site is</p>
        <pre class="language-html"><code class="language-html is-loaded"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cast<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asciinema<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">fonts</span><span class="token punctuation">.</span><span class="token method function property-access">load</span><span class="token punctuation">(</span><span class="token string">"1em JetBrains Mono"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token maybe-class-name">AsciinemaPlayer</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token string">'/api-setup.cast'</span><span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'cast'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">preload</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">terminalFontFamily</span><span class="token operator">:</span> <span class="token string">"'JetBrains Mono'"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
        <p dir="auto">I'll make the site support the first one when doing <a data-href="drop-eleventy" href="/drop-eleventy" class="internal-link">drop-eleventy</a></p>
    </main>
    <script src="https://snlx.net/mobile.js"></script>
    <!-- TODO router.js -->
    <!-- TODO include typ.js everywhere so it's downloaded in the bg & cached -->
</body>

</html>